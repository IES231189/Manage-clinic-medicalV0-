<div class="modal-overlay">
  <div class="modal-content">
    <button (click)="onClose()" class="close-button">X</button>

    <h2>Hoja de Enfermería</h2>

    <form [formGroup]="hojaForm" (ngSubmit)="onSubmit()">
      <div>
        <label>Nombre del Paciente:</label>
        <input formControlName="nombrePaciente" type="text" />
        <small *ngIf="hojaForm.get('nombrePaciente')?.invalid && hojaForm.get('nombrePaciente')?.touched">
          El nombre del paciente es obligatorio.
        </small>
      </div>

      <div>
        <label>Número de Camilla:</label>
        <input formControlName="numeroCamilla" type="text" />
        <small *ngIf="hojaForm.get('numeroCamilla')?.invalid && hojaForm.get('numeroCamilla')?.touched">
          El número de camilla es obligatorio.
        </small>
      </div>

      <div>
        <label>Diagnóstico:</label>
        <textarea formControlName="diagnostico"></textarea>
        <small *ngIf="hojaForm.get('diagnostico')?.invalid && hojaForm.get('diagnostico')?.touched">
          El diagnóstico es obligatorio.
        </small>
      </div>

      <div>
        <label>Indicaciones Médicas:</label>
        <textarea formControlName="indicacionesMedicas"></textarea>
      </div>

      <h3>Medicamentos Administrados</h3>
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Presentación</th>
            <th>Dosis</th>
            <th>Vía</th>
            <th>Hora</th>
            <th>Día de Tratamiento</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <input formControlName="nombre" type="text" />
              <small *ngIf="hojaForm.get('nombre')?.invalid && hojaForm.get('nombre')?.touched">
                El nombre del medicamento es obligatorio.
              </small>
            </td>
            <td>
              <input formControlName="presentacion" type="text" />
              <small *ngIf="hojaForm.get('presentacion')?.invalid && hojaForm.get('presentacion')?.touched">
                La presentación es obligatoria.
              </small>
            </td>
            <td>
              <input formControlName="dosis" type="text" />
              <small *ngIf="hojaForm.get('dosis')?.invalid && hojaForm.get('dosis')?.touched">
                La dosis es obligatoria.
              </small>
            </td>
            <td>
              <input formControlName="via" type="text" />
              <small *ngIf="hojaForm.get('via')?.invalid && hojaForm.get('via')?.touched">
                La vía es obligatoria.
              </small>
            </td>
            <td>
              <input formControlName="hora" type="time" />
              <small *ngIf="hojaForm.get('hora')?.invalid && hojaForm.get('hora')?.touched">
                La hora es obligatoria.
              </small>
            </td>
            <td>
              <input formControlName="diaTratamiento" type="text" />
              <small *ngIf="hojaForm.get('diaTratamiento')?.invalid && hojaForm.get('diaTratamiento')?.touched">
                El día de tratamiento es obligatorio.
              </small>
            </td>
          </tr>
        </tbody>
      </table>

      <div>
        <small *ngIf="hojaForm.get('nombre')?.value && hojaForm.get('presentacion')?.value &&
                       hojaForm.get('dosis')?.value && hojaForm.get('via')?.value &&
                       hojaForm.get('hora')?.value && hojaForm.get('diaTratamiento')?.value">
          Asegúrese de completar todos los campos de medicamentos.
        </small>
      </div>

      <div class="modal-actions">
        <button type="submit">Guardar</button>
        <button type="button" (click)="onClose()">Cancelar</button>
      </div>
    </form>
  </div>
</div>
